// protoc.exe --go_opt=paths=source_relative --go_out=. .\spec\protocol\rpc.proto

syntax = "proto3";
package protocol;

option go_package = "specter/spec/protocol";

message Node {
    uint64 id = 1;
    string address = 2;
}

message PingRequest {}

message PingResponse {}

message NotifyRequest {
    Node node = 1;
}

message NotifyResponse {}

message FindSuccessorRequest {
    uint64 key = 1;
}

message FindSuccessorResponse {
    Node node = 1;
}

message GetPredecessorRequest {}

message GetPredecessorResponse {
    Node node = 1;
}

enum KVOperation {
    UNKNOWN = 0;
    PUT = 1;
    GET = 2;
}

message KVRequest {
    KVOperation op = 1;

    bytes key = 2;
    bytes value = 3;
}

message KVResponse {
    KVOperation op = 1;

    bytes value = 2;
}