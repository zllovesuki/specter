syntax = "proto3";
package protocol;

option optimize_for = SPEED;
option go_package = "kon.nect.sh/specter/spec/protocol";

enum KVOperation {
    UNKNOWN_OP = 0;
    PUT = 1;
    GET = 2;
    DELETE = 3;

    IMPORT = 10;
}

enum KVValueType {
    UNKNOWN_TYPE = 0;
    SIMPLE = 1;
}

message KVTransfer {
    KVValueType type = 1;
    bytes value = 2;
}

message KVRequest {
    KVOperation op = 1;

    bytes key = 2;
    bytes value = 3;

    repeated bytes keys = 10;
    repeated KVTransfer values = 11;
}

message KVResponse {
    KVOperation op = 1;

    bytes value = 2;

    repeated bytes keys = 10;
    repeated KVTransfer values = 11;
}